<section>
  <header>
    <ol class="breadcrumbs">
      <li>Patterns</li>
      <li>High Order Components</li>
    </ol>

    <h2>Contextual Components</h2>
  </header>

  <aside>
    <div class="hint">
      <h3>Also known as</h3>
      <ul>
        <li>Composable Components</li>
        <li>High Order Components</li>
      </ul>
    </div>
  </aside>

  <article>
    <blockquote>
      <p>A higher-order component is just a function that takes an existing component and returns another component that wraps it.</p>
      <cite>Abramov, D. (2015a)</cite>
    </blockquote>

    <h3>Principles</h3>

    <ul>
      <li>Are concerned with <i>how things are connected</i>.</li>
      <li>May contain both presentational and container components inside but usually donâ€™t have any DOM markup of their own except for some wrapping divs, and never have any styles.</li>
      <li>Provide the data and behavior to presentational or other container components or yields it.</li>
      <li>Yields components to compose them your own way.</li>
    </ul>

    <h3>Toggle Component</h3>

    <CodeSnippet @name="contextual/toggle-structure.txt"/>

    <Tabs as |tabs|>
      <tabs.Page @title="template.hbs">
        <CodeSnippet @name="ui/routes/patterns/component-types/contextual-components/-components/toggle/template.hbs"/>
      </tabs.Page>

      <tabs.Page @title="component.ts">
        <CodeSnippet @name="ui/routes/patterns/component-types/contextual-components/-components/toggle/component.ts"/>
      </tabs.Page>

      <tabs.Page @title="label.hbs">
        <CodeSnippet @name="ui/routes/patterns/component-types/contextual-components/-components/toggle/label/template.hbs"/>
      </tabs.Page>

      <tabs.Page @title="switch.hbs">
        <CodeSnippet @name="ui/routes/patterns/component-types/contextual-components/-components/toggle/switch/template.hbs"/>
      </tabs.Page>
    </Tabs>

    <h3>Usage</h3>

    <h4>Basic Usage</h4>

    <Tabs as |tabs|>
      <tabs.Page @title="Template">
        <CodeSnippet @name="contextual/toggle-basic.hbs"/>
      </tabs.Page>

      <tabs.Page @title="Result">
        <Toggle @label='Toggle' @onLabel='On' @offLabel='Off'/>
      </tabs.Page>
    </Tabs>


    <h4>Block Usage</h4>

    <Tabs as |tabs|>
      <tabs.Page @title="Template">
        <CodeSnippet @name="contextual/toggle-block.hbs"/>
      </tabs.Page>

      <tabs.Page @title="Result">
        <Toggle @onLabel='On' @offLabel='Off'>Toggle</Toggle>
      </tabs.Page>
    </Tabs>


    <h4>Block Params Usage</h4>

    <p>At this point, the <code>Toggle</code> component turns into a
    <LinkTo @route="patterns.component-types.provider-components">provider component</LinkTo>.</p>

    <Tabs as |tabs|>
      <tabs.Page @title="Template">
        <CodeSnippet @name="contextual/toggle-block-params.hbs"/>
      </tabs.Page>

      <tabs.Page @title="Result">
        <Toggle as |t|>
          <t.Label @value={{true}} local-class="on">On</t.Label>
          <t.Switch/>
          <t.Label>Toggle</t.Label>
          <t.Label @value={{false}} local-class="off">Off</t.Label>
        </Toggle>
      </tabs.Page>
    </Tabs>

    <h4>Super-Duper-Extended Usage</h4>

    <Tabs as |tabs|>
      <tabs.Page @title="Template">
        <CodeSnippet @name="contextual/toggle-super-duper.hbs"/>
      </tabs.Page>

      <tabs.Page @title="Result">
        <Toggle @labelComponent={{component 'fancy-label'}} @onLabel='On' @offLabel='Off'>Toggle</Toggle>
      </tabs.Page>
    </Tabs>

    <h3>References</h3>
    <ul>
      <li>
        Abramov, D. (2015a).
        <i>Mixins Are Dead. Long Live Composition</i>.
        <a
        href="https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750">https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750</a>.
      </li>
      <li>
        Abramov, D. (2015b).
        <i>Presentational and Container Components</i>.
        <a
        href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0</a>.
      </li>
      <li>
        Camba, M. (2017).
        <i>EmberConf 2017: Higher Order Components by Miguel Camba</i>.
        <a href="https://www.youtube.com/watch?v=MpFudGJn2J0">https://www.youtube.com/watch?v=MpFudGJn2J0</a>.
      </li>
      <li>
        Eramo, D. (2019).
        <i>Building Better Components</i>. In EmberConf 2019.
        <a href="https://www.youtube.com/watch?v=Kyd2mQpR_9c">https://www.youtube.com/watch?v=Kyd2mQpR_9c</a>.
      </li>
      <li>
        Krycho, C. (2018).
        <i>Higher-Order Components in Ember.js</i>.
        <a href="https://www.chriskrycho.com/2018/higher-order-components-in-emberjs.html">https://www.chriskrycho.com/2018/higher-order-components-in-emberjs.html</a>.
      </li>
    </ul>
  </article>
</section>